upstream http-ingress-controller.e8s.io {
  server 172.16.2.1:30080;
  server 172.16.2.2:30080;
  server 172.16.2.3:30080;
}

upstream https-ingress-controller.e8s.io {
  server 172.16.2.1:30443;
  server 172.16.2.2:30443;
  server 172.16.2.3:30443;
}

server {
  listen 80;
  listen [::]:80;

  proxy_pass http-ingress-controller.e8s.io;
}

server {
  listen 443;
  listen [::]:443;

  proxy_pass https-ingress-controller.e8s.io;
}
